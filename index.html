<!DOCTYPE html>
<html>
  <head>
    <title>service blueprint</title>
    <script type="text/javascript" src="pablo.min.js"></script>
  </head>
  <body>
    <div id="paper" style="background-color: #ffa;width:20em;height:250px;"></div>
		<script type="text/javascript">
			var timeline = {
				0: {'child': '1st trimester'},
				94: {'child': '2nd trimester'},
				188: {'child': '3rd trimester'},
				280: {'mother': 'pregnancy'},
				281: {
					'mother': 'labour and birth',
					'child': 'birth'},
				645: {'child': 'infancy'},
				1000: {'mother': 'postpartum/breastfeeding'},
		 	}
			var actorNames = [
				'child',
				'mother',
				'chw',
				'clinic',
				'district',
				'country',
			];
           
			var paperElement = Pablo('#paper');
			var paper = Pablo(paperElement).root({height:250}),
					shape = paper.path();

			Pablo.template('child', function(options){
					var x = options.x || 20,
							y = options.y || 20,
							fill = options.fill || '#00AEEF',
							pathString = "M15.025-1.99c-0.43,1.355,0.062,3.203,0.266,4.895c0.332,0.336,0.867,0.289,1.508,0.041 c0.467,1.672,2.914,1.818,4.078,2.725c1.633,1.275,1.652,3.1,3.434,4.672c-0.516,1.611,0.473,3.418-0.717,4.955 c0.959,1.381,0.385,3.291-0.994,4.041c3.129,2.148,5.445,7.922,5.957,12.865c-1.012,0.344-1.955,0.572-2.645,0.314 c0.172,3.809,1.453,8.857-4.318,7.805c-0.768-0.844-0.959-2.365-0.459-3.098c-0.809,0.141-1.246,0.48-1.75,0.789 c-1.254-1.109-2.82-1.625-3.762-3.322c-0.555,0.203-1.086,0.371-1.438,0.191c-0.271-0.205-0.488-0.516-0.578-1.064 c-3.539,0.576-4.42-3.879-6.406-6.246c0.445-2.223-0.242-3.16-0.32-5.879c-0.742,0.883-2.695,0.193-3.988-0.016 c-0.184-1.814,0.074-2.99-1.176-4.623c0.191-0.66,0.75-1.123,0.945-1.783c-3.359-3.713,1.262-7.555,3.914-9.93 C5.832,3.756,4.482,3.305,3.568,2.039c-0.379-0.93,0.691-0.391,1.066-0.578c-7.395-8.562,9.307-14.717,9.504-3.924 C14.029-1.547,14.947-2.564,15.025-1.99 M17.195,31.713c1.107,0.191,1.496,1.736,3.064,1.051 c-0.938-2.035-2.629-4.434-2.855-6.844C16.236,27.271,18.593,30.49,17.195,31.713";

					return Pablo.path({
							d: pathString,
							fill: fill,
							transform: 'translate('+x+','+y+')'
					});
			});
			Pablo.child({x:20,y:20}).appendTo(paper);

			Pablo.template('mother', function(options){
					var x = options.x || 0,
							y = options.y || 0,
							fill = options.fill || '#39B54A',
							pathString = "M40.471,91.215c0.299,0.527,0.6,1.16,0.662,1.283c0.113,0.207,0.188-0.504,0.246-0.688 c0.061-0.186,0.234-0.504,0.125-0.811c-0.113-0.305-0.344-1.406-0.463-1.598c-0.123-0.197-0.211-1.129-0.211-1.129 s-0.143-0.072-0.154-0.242c-0.014-0.174-0.172-0.602-0.172-0.602s-0.1,0.613-0.246,1.436c-0.146,0.814-0.246,1.65-0.246,1.65 S40.258,90.842,40.471,91.215 M56.66,102.639c0,0,0.242,0.088,0.619-0.281s0.469-0.604,0.469-0.604L56.66,102.639z M43.395,70.904c0,0-0.367-0.498-0.193-1.408c0.17-0.902,1.053-3.422,1.053-3.422s0.078-0.592,0.219-1.062 c0.119-0.402,0.305-0.691,0.305-0.691s-0.211-0.246-0.193-0.596c0.012-0.258,0.246-0.623,0.295-0.695 c0.109-0.174,0.174-0.258,0.193-0.514c0.021-0.254,0.355-0.342,0.391-0.488c0.039-0.148,0.223-0.27,0.318-0.295 c0.098-0.025,0.121-0.193,0.219-0.221c0.098-0.025,0.543-0.111,0.637-0.137c0.094-0.029,0.158-0.08,0.262-0.16 c0.105-0.082-0.104-0.055-0.305-0.039c-0.199,0.012-0.502-0.148-0.211-0.211c0.293-0.066,0.648-0.16,0.545-0.225 c-0.105-0.066-0.873-0.078-0.094-0.713c0.088-0.07,0.633-0.625,1.109-0.688c0.479-0.062,1.018,0.305,1.285,0.344 c0.264,0.039,0.264-0.252,0.701-0.158c0.436,0.09,1.572,0.83,1.957,1.18c0.383,0.342,0.598,0.658,0.598,0.658 s0.406-0.014,0.512,0.227c0.109,0.234,0.17,0.449,0.264,0.559c0.094,0.104,0.396,1.121,0.396,1.121 c0.307,0.371,0.355,0.713,0.355,0.713s0.242,0.619,0.254,0.795c0.012,0.172,0.143,0.307,0.225,0.633 c0.076,0.33-0.08,0.41-0.08,0.41c0.186,0.609-0.102,0.676-0.156,0.742c-0.057,0.062,0,0.412-0.186,0.742 c-0.188,0.326-0.342,0.25-0.342,0.25c-0.215,0.871-0.689,1.15-0.689,1.15s-0.246,0.674-0.463,1.096 c-0.105,0.213-0.59,1.328-1.223,2.145c-0.301,0.391-0.496,0.629-0.795,0.867c-0.322,0.258-0.746,0.5-0.891,0.561 c-0.555,0.225-0.768,0.33-0.846,0.465c-0.082,0.129-0.105,0.459-0.105,0.459s0.711,0.625,1.336,1.02 c0.621,0.396,0.818,0.488,0.883,0.438c0.066-0.055,0.744,0.145,0.848,0.16c0.107,0.012,0.307,0.062,0.307,0.062 c0.158,0.016,0.264,0.188,0.264,0.188s1.254,0.273,1.904,1.348c0.645,1.07,1.348,3.281,1.547,4.363 c0.197,1.084,0.504,3.314,0.896,4.705c0.398,1.389,1.02,2.734,1.336,3.99c0.32,1.26,0.674,2.158,0.633,3.836 c-0.039,1.684-0.199,3.703-0.117,4.301c0.035,0.27,0.182,0.979,0.066,1.5c-0.133,0.627-0.535,1.051-0.535,1.051 s-0.309,0.725-0.721,1.135c-0.316,0.311-0.773,0.34-0.773,0.34s-0.729,0.615-0.729,0.67c0,0.057,0.078,0.092,0.027,0.221 c-0.055,0.139-0.004,0.154,0.133,0.24c0.281,0.172,0.109,0.316,0.109,0.426c0,0.107,0.367,0.727,0.633,1.48 c0.262,0.754,0.766,1.967,0.916,2.354c0.141,0.381,0.562,1.834,0.633,2.098c0.064,0.27,1.271,3.492,1.518,4.42 c0.252,0.926,0.914,3.254,0.99,3.535c0.082,0.273,0.451,1.117,0.545,1.9c0.094,0.785-0.012,1.23-0.238,1.986 c-0.225,0.754-0.633,1.875-0.699,2.363c-0.059,0.426-0.016,0.941-0.055,1.035c-0.039,0.09-0.279,0.488-0.344,1.4 c-0.064,0.914-0.041,1.705,0.053,2.145c0.094,0.436,0.211,1.031,0.264,1.932c0.064,1.057,0.105,1.625,0.172,1.93 c0.039,0.184,0.223,0.715-0.131,0.598c-0.275-0.094-0.305,0.076-0.422,0.158c-0.123,0.076-0.584,0.369-0.809,0.475 c-0.223,0.105-0.305,0.158-0.305,0.158s0.014,0.783,0.076,1.322c0.066,0.541,0.281,0.91,0.533,1.045 c0.246,0.135,1.506,0.715,1.834,0.689c0.873-0.08,1.02,0.207,1.02,0.207s0.41,0,0.609,0.135c0.195,0.129,0.711,0.305,1.014,0.385 c0.305,0.078,0.293,0.236,0.293,0.236s0.223,0.025,0.422,0.064c0.199,0.041,0.252,0.252,0.252,0.252s0.475-0.041,0.488,0.41 c0.012,0.447-0.494,0.764-1.068,0.701c-0.689-0.08-1.482,0.199-1.934,0.188c-0.211-0.01-1.279-0.268-2.537-0.32 c-1.254-0.053-1.705,0.252-2.314,0.516c-0.609,0.27-1.863,0.516-2.271-0.697c-0.23-0.689-0.061-1.197,0.115-1.746 c0.131-0.428,0.268-0.994,0.256-1.418c-0.027-0.855-0.209-1.412-0.209-1.412s-0.678-0.172-0.797-0.199 c-0.316-0.066-0.961,0.074-1.125,0.078c-0.346,0.016-0.846,0.105-1.189,0.068c-0.346-0.041-1.389-0.08-1.613-0.08 c-0.223,0-0.818,0.186-0.938,0.238c-0.121,0.053-0.359,0.264-0.809,0.223s-1.297,0.029-1.648,0.105 c-0.195,0.043-0.16,0.076-0.398,0.135c-0.234,0.049-0.438,0.223-0.438,0.223s0.215,0.305,0.252,1.217 c0.033,0.811,0.4,2.008,0.463,2.945c0.055,0.781,0.312,1.234,0.385,1.363c0.143,0.266,0.213,1.242,0.291,1.797 c0.078,0.559,0.012,1.102-0.582,1.139c-0.594,0.041-0.676-0.727-0.633-0.855c0.039-0.139-0.039-0.492-0.039-0.609 c0-0.123-0.16,0.17-0.174,0.34c-0.012,0.176,0.012,0.33,0.012,0.479c0,0.145,0.197,0.898-0.307,0.951 c-0.5,0.053-0.555-0.387-0.527-0.479c0.027-0.09-0.117,0.254-0.477,0.121c-0.359-0.135-0.25-0.688-0.238-0.836 c0.012-0.143-0.145-0.436-0.121-0.553c0.029-0.117-0.119,0.357-0.119,0.357c0.08,0.41-0.062,0.723-0.422,0.621 c-0.357-0.111-0.318-0.428-0.318-0.428c-0.318,0.094-0.477-0.236-0.516-0.658c-0.039-0.426-0.066-0.912,0.039-1.352 c0.105-0.434,0.305-0.896,0.445-1.33c0.148-0.439,0.098-0.533,0.098-0.996s0.236-0.873,0.236-0.873s-0.092-0.449-0.17-0.715 c-0.08-0.264-0.221-0.393-0.199-0.873c0.027-0.588-0.119-1.092-0.119-1.092s-0.621,0.238-0.646-0.117 c-0.025-0.359,0.012-1.367,0.012-1.367s-0.541-1.32-0.582-1.254c-0.037,0.062,0.121,1.098,0.012,2.012 c-0.104,0.916-0.092,1.016-0.197,1.004c-0.105-0.016-0.158-0.088-0.24-0.109c-0.275-0.061-0.195-0.285-0.195-0.285 s-0.449-0.285-0.541-0.531c-0.094-0.258-0.148-0.463-0.148-0.463s-0.252,0.064-0.492,0.092c-0.205,0.016-0.383,0.012-0.621-0.145 c-0.5-0.332-0.646-0.521-0.607-0.605c0.039-0.094,0.012-0.23-0.039-0.309c-0.055-0.082,0.248-0.533,0.264-0.676 c0.012-0.15,0.057-0.414,0.186-0.701c0.197-0.451,0.197-0.914,0.211-1.031c0.012-0.119,0.092-0.557,0.133-0.674 c0.037-0.123,0.037-0.676,0.119-1.02c0.078-0.34,0.049-1.215,0.025-1.693c-0.025-0.475-0.186-1.506-0.25-1.875 c-0.066-0.373-0.305-0.609-0.305-0.744c0-0.293,0.117-1.33,0.133-2.42c0.012-1.084,0.078-2.209-0.066-3.436 c-0.146-1.229-0.5-3.293-0.699-4.686c-0.197-1.383-0.357-2.471-0.688-3.697c-0.176-0.66-0.338-1.746-0.443-2.619 c-0.076-0.639-0.131-1.172-0.137-1.6c-0.006-0.492,0.088-1.055,0.201-1.734c0.119-0.721,0.238-1.471,0.287-1.734 c0.092-0.498,0.357-1.223,0.555-2.453c0.174-1.068,0.174-1.537,0.307-1.971c0.131-0.434,0.316-0.74,0.316-0.74 c-0.066-0.383,0.051-0.488,0.051-0.488s-2.207-3.438-2.656-4.205c-0.451-0.768-0.566-1.008-0.676-1.967 c-0.105-0.967-0.094-0.967-0.381-2.223c-0.287-1.258-0.357-4.215-0.477-5.475c-0.121-1.254-0.225-2.693,0.225-3.916 c0.449-1.215,1.18-3.209,1.879-3.779c0.701-0.566,1.73-0.703,1.73-0.703c0.133-0.143,0.859-0.305,0.98-0.326 c0.121-0.029,1.109-0.398,2.125-1.18c1.02-0.779,1.479-1.623,1.479-1.623C43.23,71.869,43.395,70.904,43.395,70.904";

					return Pablo.path({
							d: pathString,
							fill: fill,
							transform: 'translate('+x+','+y+')'
					});
			});
			Pablo.mother({x:-10,y:50}).appendTo(paper);

			Pablo.template('country', function(options){
					var x = options.x || 0,
							y = options.y || 0,
							fill = options.fill || '#92278F',
							points = "73.622,286.863 75.474,290.301 75.474,293.342 76.134,294.268 76.794,296.383 75.208,297.703 73.622,299.555 73.622,302.992 70.979,304.973 70.979,307.883 68.069,311.449 64.37,319.117 61.989,319.117 60.007,318.062 57.495,318.326 55.513,320.574 53.397,321.363 53.397,325.332 50.489,329.031 45.335,329.031 44.673,329.629 41.632,329.629 39.253,328.105 39.253,326.125 36.741,325.463 35.685,323.611 31.72,320.836 25.771,320.969 25.771,318.854 25.771,318.062 25.771,314.623 25.771,312.707 26.563,310.264 27.886,308.811 28.679,305.635 30.265,304.844 30.794,298.363 29.472,297.174 33.042,290.436 33.042,289.51 35.817,288.186 41.632,288.186 43.218,289.906 44.999,291.361 46.452,290.436 49.749,290.359 52.003,292.814 55.573,292.943 58.612,290.301 61.329,289.961 62.315,290.828 66.677,290.699";

					return Pablo.polygon({
							points: points,
							fill: fill,
							'stroke-linejoin':'round',
							'stroke-linecap':'round',
							transform: 'translate('+x+','+y+')'
					});
			});
			Pablo.country({x:0,y:0}).appendTo(paper);

			Pablo.template('district', function(options){
					var x = options.x || 0,
							y = options.y || 0,
							fill = options.fill || '#92278F';


					return Pablo.g()
							.append('rect', {fill: '#92278F', width: '17.008', height: '10.573'})
							.append('path', {fill: '#92278F', d: "M54.863,273.671c0,0.904-0.733,1.637-1.637,1.637h-3.888c-0.904,0-1.637-0.732-1.637-1.637v-3.411 c0-0.904,0.733-1.637,1.637-1.637h3.888c0.904,0,1.637,0.732,1.637,1.637V273.671z"})

							transform: 'translate('+x+','+y+')'
			});
			Pablo.district({x:20, y:60}).appendTo(paper);
		</script>
  </body>
</html>
